%YAML 1.2
---
PCIAddress:
  valid:
    - &pci_address
      bus: '0x00'
      slot: '0x00'
      function: '0x0'
    - bus: '0x00'
      slot: '0x00'
    - bus: '0xff'
      slot: '0x1f'
      function: '0x7'
    - <<: *pci_address
      domain: '0x0000'
    - <<: *pci_address
      multifunction: 'on'
    - <<: *pci_address
      multifunction: 'off'
    - <<: *pci_address
      multifunction: true
    - <<: *pci_address
      multifunction: false
    - <<: *pci_address
      domain: null
      multifunction: null
    - bus: 0x00
      slot: 0x00
      function: 0x0
      domain: 0x0000
    - bus: 0xff
      slot: 0x1f
      function: 0x7
  invalid:
    - {}
    - <<: *pci_address
      bus: 0x1ff
    - <<: *pci_address
      bus: -1
    - <<: *pci_address
      slot: 0xff
    - <<: *pci_address
      slot: -1
    - <<: *pci_address
      function: 0xf
    - <<: *pci_address
      function: -1
    - bus: ''
      slot: '0x00'
      function: '0x0'
    - bus: '0x00'
      slot: ''
      function: '0x0'
    - bus: '0x00'
      slot: '0x00'
      function: ''
    - slot: '0x00'
      function: '0x0'
    - bus: '0x00'
      function: '0x0'
    - bus: '0x00'
      slot: '0x00'
      function: null
    - bus: '0x00'
      slot: '0x00'
      function: '0x0'
      domain: ''
    - bus: '0x00'
      slot: '0x00'
      function: '0x0'
      multifunction: foo
DriveAddress:
  valid:
    - target: 0
    - bus: 0
    - unit: 0
    - controller: 0
    - target: 0
      bus: 0
    - target: 0
      unit: 0
    - target: 0
      controller: 0
    - bus: 0
      unit: 0
    - bus: 0
      controller: 0
    - unit: 0
      controller: 0
    - target: 0
      bus: 0
      unit: 0
    - target: 0
      bus: 0
      controller: 0
    - target: 0
      unit: 0
      controller: 0
    - bus: 0
      unit: 0
      controller: 0
    - &drive_address
      target: 0
      bus: 0
      unit: 0
      controller: 0
  invalid:
    - target: null
    - bus: null
    - unit: null
    - target: -1
    - bus: -1
    - unit: -1
    - controller: -1
DataRate:
  valid:
    - bytes: 1
    - bytes: 1_000_000_000
    - &data_rate
      bytes: 1
      period: 1
    - bytes: 1_000_000_000
      period: 1_000_000_000
  invalid:
    - {}
    - bytes: 0
    - bytes: -1
    - bytes: ''
    - bytes: 1
      period: 0
    - bytes: 1
      period: -1
    - bytes: 1
      period: ''
    - period: 1
MemtuneInfo:
  valid:
    - hard: 1024
    - soft: 1024
    - swap: 1024
    - min: 1024
    - soft: 1024
      hard: 1024
      swap: 1024
      min: 1024
  invalid:
    - {}
    - hard: ''
    - soft: 0
    - min: -1
CPUModelInfo:
  valid:
    - name: test
    - name: test
      fallback: null
    - name: test
      fallback: allow
    - name: test
      fallback: forbid
  invalid:
    - {}
    - name: ''
    - name: test
      fallback: ''
CPUTopology:
  valid:
    - {}
    - &topology
      sockets: 2
      dies: 2
      cores: 2
      threads: 2
    - coalesce: sockets
  invalid:
    - sockets: 0
    - dies: 0
    - cores: 0
    - threads: 0
    - coalesce: ''
  total_cpus:
    - - {}
      - 1
    - - cores: 4
      - 4
    - - sockets: 2
        cores: 2
        threads: 2
      - 8
    - - dies: 2
      - 2
  check:
    - - {}
      - 1
      - null
    - - {}
      - 2
      - null
    - - coalesce: cores
      - 8
      - cores
    - - coalesce: sockets
        sockets: 8
        dies: 12
        cores: 2
        threads: 2
      - 4
      - sockets
    - - sockets: 8
        dies: 2
        cores: 2
        threads: 2
      - 8
      - null
CPUInfo:
  valid:
    - {}
    - mode: custom
      model:
        name: test
    - mode: null
      model:
        name: test
    - mode: null
      model:
        name: test
      topology: *topology
  invalid:
    - mode: ''
OSFWLoaderInfo:
  valid:
    - {}
    - &fwloader
      path: /nonexistent
      type: pflash
      readonly: 'yes'
    - path: /nonexistent
    - path: /nonexistent
      secure: 'yes'
    - secure: 'yes'
      stateless: 'yes'
  invalid:
    - path: ''
    - readonly: 'foo'
    - secure: 'foo'
    - stateless: 'foo'
    - type: ''
OSFWNVRAMInfo:
  valid:
    - &fwnvram
      path: /nonexistent
      template: /nonexistent2
  invalid:
    - {}
    - path: ''
      template: /nonexistent2
    - path: /nonexistent
      template: ''
    - path: ''
      template: ''
    - path: /nonexistent
      template: null
OSContainerIDMapEntry:
  valid:
    - &idmap_entry
      target: 0
      count: 1
    - target: 65536
      count: 65536
  invalid:
    - {}
    - target: 0
    - count: 1
    - target: -1
      count: 1
    - target: 0
      count: 0
OSContainerIDMapInfo:
  valid:
    - &idmap
      uid: *idmap_entry
      gid: *idmap_entry
    - uid:
        target: 0
        count: 65536
      gid:
        target: 65536
        count: 1
  invalid:
    - uid: null
      gid: *idmap_entry
    - uid: *idmap_entry
      gid: null
    - uid: *idmap_entry
    - gid: *idmap_entry
OSFirmwareInfo:
  valid:
    - variant: firmware
    - variant: firmware
      arch: x86_64
    - variant: firmware
      machine: q35
    - variant: firmware
      type: linux
    - variant: firmware
      firmware: efi
      loader:
        secure: 'yes'
    - variant: firmware
      loader: *fwloader
    - variant: firmware
      loader: *fwloader
      nvram: *fwnvram
  invalid:
    - {}
    - variant: ''
    - variant: firmware
      loader: /nonexistent
    - variant: firmware
      nvram: *fwnvram
OSHostBootInfo:
  valid:
    - variant: host
      bootloader: /usr/bin/boot
    - variant: host
      bootloader: /usr/bin/boot
      bootloader_args: test
  invalid:
    - {}
    - variant: ''
    - variant: host
    - variant: host
      bootloader: ''
OSDirectBootInfo:
  valid:
    - variant: direct
      kernel: /test
    - variant: direct
      kernel: /test
      initrd: /test
    - variant: direct
      kernel: /test
      cmdline: test
    - variant: direct
      kernel: /test
      dtb: /test
    - variant: direct
      kernel: /test
      loader: /test
    - variant: direct
      kernel: /test
      initrd: /test
      cmdline: test
      dtb: /test
      loader: /test
  invalid:
    - {}
    - variant: ''
    - variant: direct
    - variant: direct
      kernel: ''
    - variant: direct
      kernel: test
      loader: *fwloader
OSContainerBootInfo:
  valid:
    - &container_osinfo
      variant: container
      init: /sbin/init
    - <<: *container_osinfo
      initargs:
        - test
      initenv:
        TEST: '1'
      initdir: /
      inituser: root
      initgroup: root
      idmap: *idmap
  invalid:
    - {}
    - variant: ''
    - variant: container
    - variant: container
      init: ''
OSTestBootInfo:
  valid:
    - &test_osinfo
      variant: test
      arch: x86_64
  invalid:
    - {}
    - variant: ''
    - variant: test
    - variant: test
      arch: ''
ClockTimerInfo:
  valid:
    - name: platform
    - name: hpet
    - name: kvmclock
    - name: pit
    - name: rtc
    - name: tsc
    - name: hypervclock
    - name: armvtimer
    - name: platform
      track: boot
    - name: platform
      track: guest
    - name: platform
      track: wall
    - name: platform
      track: realtime
    - name: platform
      tickpolicy: delay
    - name: platform
      tickpolicy: catchup
    - name: platform
      tickpolicy: merge
    - name: platform
      tickpolicy: discard
    - &clock_timer
      name: hpet
      present: 'no'
    - name: hpet
      present: 'yes'
  invalid:
    - {}
    - name: ''
    - name: rtc
      track: ''
    - name: tsc
      tickpolicy: ''
    - name: hpet
      present: ''
ClockUTC:
  valid:
    - offset: utc
    - offset: utc
      timers:
        - *clock_timer
  invalid:
    - {}
    - offset: ''
ClockLocal:
  valid:
    - offset: localtime
    - offset: localtime
      timers:
        - *clock_timer
  invalid:
    - {}
    - offset: ''
ClockTimezone:
  valid:
    - &clock_tz
      offset: timezone
      tz: America/New_York
    - <<: *clock_tz
      timers:
        - *clock_timer
  invalid:
    - {}
    - offset: ''
    - offset: timezone
    - offset: timezone
      tz: ''
ClockVariable:
  valid:
    - offset: variable
    - offset: variable
      basis: utc
    - offset: variable
      basis: localtime
    - offset: variable
      adjustment: 0
    - offset: variable
      basis: utc
      adjustment: 0
    - offset: variable
      basis: localtime
      adjustment: 0
    - offset: variable
      basis: utc
      adjustment: -3600
    - offset: variable
      basis: localtime
      adjustment: 3600
    - offset: variable
      timers:
        - *clock_timer
  invalid:
    - {}
    - offset: ''
    - offset: variable
      basis: ''
      adjustment: 0
    - offset: variable
      basis: utc
      adjustment: ''
ClockAbsolute:
  valid:
    - &clock_absolute
      offset: absolute
      start: 0
    - offset: absolute
      start: 1701357983
    - <<: *clock_absolute
      timers:
        - *clock_timer
  invalid:
    - {}
    - offset: ''
    - offset: absolute
    - offset: absolute
      start: ''
FeaturesHyperVSpinlocks:
  valid:
    - state: 'on'
    - state: 'off'
    - &hyperv_spinlocks
      state: 'on'
      retries: 4096
    - state: 'on'
      retries: 65536
  invalid:
    - {}
    - state: ''
    - state: 'on'
      retries: 0
    - retries: 4096
FeaturesHyperVSTimer:
  valid:
    - state: 'on'
    - state: 'off'
    - &hyperv_stimer
      state: 'on'
      direct: 'on'
    - state: 'on'
      direct: 'off'
  invalid:
    - {}
    - state: ''
    - state: 'on'
      direct: ''
FeaturesHyperVVendorID:
  valid:
    - state: 'on'
    - state: 'off'
    - &hyperv_vendorid
      state: 'on'
      value: test
  invalid:
    - {}
    - state: ''
    - state: 'on'
      value: ''
    - state: 'on'
      value: verylongvendorid
FeaturesHyperVInfo:
  valid:
    - {}
    - mode: 'passthrough'
    - mode: 'custom'
    - &features_hyperv
      avic: 'on'
      evmcs: 'on'
      frequencies: 'on'
      reenlightenment: 'on'
      relaxed: 'on'
      reset: 'on'
      runtime: 'on'
      spinlocks: *hyperv_spinlocks
      stimer: *hyperv_stimer
      synic: 'on'
      tlbflush: 'on'
      vapic: 'on'
      vendor_id: *hyperv_vendorid
      vpindex: 'on'
    - avic: 'off'
      evmcs: 'off'
      frequencies: 'off'
      reenlightenment: 'off'
      relaxed: 'off'
      reset: 'off'
      runtime: 'off'
      spinlocks: *hyperv_spinlocks
      stimer: *hyperv_stimer
      synic: 'off'
      tlbflush: 'off'
      vapic: 'off'
      vendor_id: *hyperv_vendorid
      vpindex: 'off'
  invalid:
    - mode: ''
    - avic: ''
    - evmcs: ''
    - frequencies: ''
    - reenlightenment: ''
    - relaxed: ''
    - reset: ''
    - runtime: ''
    - spinlocks: 'on'
    - stimer: 'on'
    - synic: ''
    - tlbflush: ''
    - vapic: ''
    - vendor_id: 'on'
    - vpindex: ''
FeaturesKVMDirtyRing:
  valid:
    - state: 'on'
    - state: 'off'
    - &kvm_dirty_ring
      state: 'on'
      size: 1024
    - state: 'on'
      size: 65536
  invalid:
    - {}
    - state: ''
    - state: 'on'
      size: 0
    - state: 'on'
      size: 256
    - state: 'on'
      size: 131072
    - state: 'on'
      size: 5000
FeaturesKVMInfo:
  valid:
    - {}
    - &features_kvm
      dirty_ring: *kvm_dirty_ring
      hidden: 'on'
      hint_dedicated: 'on'
      poll_control: 'on'
      pv_ipi: 'on'
    - dirty_ring: *kvm_dirty_ring
      hidden: 'off'
      hint_dedicated: 'off'
      poll_cofftrol: 'off'
      pv_ipi: 'off'
  invalid:
    - dirty_ring: 'on'
    - hidden: ''
    - hint_dedicated: ''
    - poll_control: ''
    - pv_ipi: ''
FeaturesXenPassthrough:
  valid:
    - state: 'on'
    - state: 'off'
    - &xen_passthrough
      state: 'on'
      mode: 'sync_pt'
    - state: 'off'
      mode: 'share_pt'
  invalid:
    - {}
    - state: ''
    - state: 'on'
      mode: ''
FeaturesXenInfo:
  valid:
    - {}
    - &features_xen
      e820_host: 'on'
      passthrough: *xen_passthrough
    - e820_host: 'off'
      passthrough: *xen_passthrough
  invalid:
    - e820_host: ''
    - passthrough: 'on'
FeaturesTCGInfo:
  valid:
    - {}
    - &features_tcg
      tb_cache: 128
    - tb_cache: 1024
  invalid:
    - tb_cache: 0
FeaturesAPICInfo:
  valid:
    - {}
    - &features_apic
      eoi: 'on'
    - eoi: 'off'
  invalid:
    - eoi: ''
FeaturesGICInfo:
  valid:
    - {}
    - version: '2'
    - &features_gic
      version: '3'
    - version: 'host'
    - version: 2
    - version: 3
  invalid:
    - version: ''
    - version: 0
FeaturesIOAPICInfo:
  valid:
    - {}
    - &features_ioapic
      driver: 'kvm'
    - driver: 'qemu'
  invalid:
    - driver: ''
FeaturesSMMConfig:
  valid:
    - state: 'on'
    - state: 'off'
    - &features_smm
      state: 'on'
      tseg: 16_777_216
  invalid:
    - {}
    - state: ''
    - state: 'on'
      tseg: 0
    - state: 'on'
      tseg: -1
FeaturesCapabilities:
  valid:
    - policy: allow
    - policy: deny
    - policy: default
    - policy: deny
      modify: {}
    - &features_capabilities
      policy: default
      modify:
        mknod: 'on'
        dac_override: 'off'
  invalid:
    - {}
    - policy: ''
    - policy: none
    - policy: deny
      modify:
        mknod: ''
FeaturesInfo:
  valid:
    - {}
    - &features
      acpi: 'on'
      apic: *features_apic
      async_teardown: 'on'
      caps: *features_capabilities
      gic: *features_gic
      hap: 'on'
      htm: 'on'
      hyperv: *features_hyperv
      kvm: *features_kvm
      pae: 'on'
      pmu: 'on'
      pvspinlock: 'on'
      smm: *features_smm
      tcg: *features_tcg
      vmcoreinfo: 'on'
      vmport: 'on'
      xen: *features_xen
    - acpi: 'off'
      apic: {}
      async_teardown: 'off'
      gic: {}
      hap: 'off'
      htm: 'off'
      hyperv: {}
      kvm: {}
      pae: 'off'
      pmu: 'off'
      pvspinlock: 'off'
      tcg: {}
      vmcoreinfo: 'off'
      vmport: 'off'
      xen: {}
    - <<: *features
      acpi: true
      async_teardown: true
      hap: true
      htm: true
      pae: true
      pmu: true
      pvspinlock: true
      vmcoreinfo: true
      vmport: true
    - <<: *features
      acpi: false
      async_teardown: false
      hap: false
      htm: false
      pae: false
      pmu: false
      pvspinlock: false
      vmcoreinfo: false
      vmport: false
  invalid:
    - acpi: ''
    - async_teardown: ''
    - gic: 'host'
    - hap: ''
    - htm: ''
    - pae: ''
    - pmu: ''
    - pvspinlock: ''
    - smm: ''
    - vmcoreinfo: ''
    - vmport: ''
ControllerDriverInfo:
  valid:
    - {}
    - &controller_driver
      queues: 8
    - cmd_per_lun: 8
    - max_sectors: 64
  invalid:
    - queues: ''
    - cmd_per_lun: ''
    - max_sectors: ''
    - queues: 0
    - cmd_per_lun: 0
    - max_sectors: 0
SimpleController:
  valid:
    - type: fdc
    - type: sata
    - type: ccid
    - type: fdc
      index: 0
    - type: sata
      index: 0
    - type: ccid
      index: 0
  invalid:
    - {}
    - type: ''
    - type: scsi
    - type: usb
    - type: virtio-serial
    - type: xenbus
    - type: fdc
      index: -1
    - type: sata
      index: -1
    - type: ccid
      index: -1
XenBusController:
  valid:
    - type: xenbus
    - type: xenbus
      index: 0
    - type: xenbus
      maxGrantFrames: 64
    - type: xenbus
      maxEventChannels: 64
  invalid:
    - {}
    - type: ''
    - type: xenbus
      index: -1
    - type: xenbus
      maxGrantFrames: 0
    - type: xenbus
      maxEventChannels: 0
IDEController:
  valid:
    - type: ide
    - type: ide
      index: 0
    - type: ide
      model: piix4
  invalid:
    - {}
    - type: ''
    - type: ide
      index: -1
    - type: ide
      model: ''
SCSIController:
  valid:
    - type: scsi
    - type: scsi
      index: 0
    - type: scsi
      model: virtio
    - type: scsi
      driver: *controller_driver
  invalid:
    - {}
    - type: ''
    - type: scsi
      index: -1
    - type: scsi
      model: ''
    - type: scsi
      driver: ''
USBController:
  valid:
    - type: usb
    - type: usb
      index: 0
    - type: usb
      model: qemu-xhci
    - type: usb
      model: none
    - type: usb
      ports: 4
  invalid:
    - {}
    - type: ''
    - type: usb
      index: -1
    - type: usb
      model: ''
    - type: usb
      ports: 0
VirtIOSerialController:
  valid:
    - type: virtio-serial
    - type: virtio-serial
      index: 0
    - type: virtio-serial
      model: virtio-non-transitional
    - type: virtio-serial
      ports: 4
      vectors: 4
  invalid:
    - {}
    - type: ''
    - type: virtio-serial
      index: -1
    - type: virtio-serial
      model: ''
    - type: virtio-serial
      ports: 0
      vectors: 4
    - type: virtio-serial
      ports: 4
      vectors: 0
ControllerDevice:
  valid:
    - type: scsi
    - type: scsi
      index: 0
    - type: scsi
      model: virtio
    - &controller_device
      type: usb
      modeL: qemu-xhci
      ports: 4
    - type: virtio-serial
      ports: 4
      vectors: 4
    - type: xenbus
      maxGrantFrames: 64
      maxEventChannels: 64
    - type: scsi
      driver: *controller_driver
  invalid:
    - {}
    - type: ''
    - type: scsi
      index: -1
    - type: scsi
      model: ''
    - type: usb
      ports: -1
    - type: virtio-serial
      ports: 1
      vectors: -1
    - type: xenbus
      maxGrantFrames: -1
    - type: xenbus
      maxEventChannels: -1
    - type: scsi
      driver: ''
DiskVolumeSrcInfo:
  valid:
    - &disk_volume_src
      pool: test
      volume: test
  invalid:
    - {}
    - pool: test
    - volume: test
    - pool: ''
      volume: test
    - pool: test
      volume: ''
DiskTargetInfo:
  valid:
    - &disk_target
      dev: /dev/sda
    - dev: /dev/sda
      bus: scsi
      addr: *drive_address
    - dev: /dev/sda
      bus: virtio
      addr: *pci_address
    - dev: /dev/sda
      bus: usb
      removable: 'on'
    - dev: /dev/sda
      bus: scsi
      removable: 'off'
    - dev: /dev/sda
      rotation_rate: 1
    - dev: /dev/sda
      rotation_rate: 1025
    - dev: /dev/sda
      rotation_rate: 65534
  invalid:
    - {}
    - dev: ''
    - dev: /dev/sda
      bus: virtio
      addr: *drive_address
    - dev: /dev/sda
      bus: scsi
      addr: *pci_address
    - dev: /dev/sda
      removable: 'on'
    - dev: /dev/sda
      bus: usb
      removable: ''
    - dev: /dev/sda
      rotation_rate: 0
    - dev: /dev/sda
      rotation_rate: 65536
FileDisk:
  valid:
    - &file_disk
      type: file
      src: /nonexistent
      target: *disk_target
    - <<: *file_disk
      boot: 1
    - <<: *file_disk
      device: disk
    - <<: *file_disk
      device: cdrom
    - <<: *file_disk
      device: floppy
    - <<: *file_disk
      device: lun
    - <<: *file_disk
      readonly: true
    - <<: *file_disk
      readonly: false
    - <<: *file_disk
      snapshot: internal
    - <<: *file_disk
      snapshot: external
    - <<: *file_disk
      snapshot: manual
    - <<: *file_disk
      snapshot: 'no'
    - <<: *file_disk
      startup: mandatory
    - <<: *file_disk
      startup: requisite
    - <<: *file_disk
      startup: optional
  invalid:
    - {}
    - type: ''
      src: /nonexistent
      target: *disk_target
    - type: file
      src: ''
      target: *disk_target
    - type: file
      target: *disk_target
    - type: file
      src: /nonexistent
    - src: /nonexistent
      target: *disk_target
    - <<: *file_disk
      boot: 0
    - <<: *file_disk
      readonly: ''
    - <<: *file_disk
      device: ''
    - <<: *file_disk
      snapshot: ''
    - <<: *file_disk
      startup: ''
BlockDisk:
  valid:
    - &block_disk
      type: block
      src: /dev/sda
      target: *disk_target
    - <<: *block_disk
      boot: 1
    - <<: *block_disk
      device: disk
    - <<: *block_disk
      device: cdrom
    - <<: *block_disk
      device: floppy
    - <<: *block_disk
      device: lun
    - <<: *block_disk
      readonly: true
    - <<: *block_disk
      readonly: false
    - <<: *block_disk
      snapshot: internal
    - <<: *block_disk
      snapshot: external
    - <<: *block_disk
      snapshot: manual
    - <<: *block_disk
      snapshot: 'no'
  invalid:
    - {}
    - type: ''
      src: /dev/sda
      target: *disk_target
    - type: block
      src: ''
      target: *disk_target
    - type: block
      target: *disk_target
    - type: block
      src: /dev/sda
    - src: /dev/sda
      target: *disk_target
    - <<: *block_disk
      boot: 0
    - <<: *block_disk
      readonly: ''
    - <<: *block_disk
      device: ''
    - <<: *block_disk
      snapshot: ''
VolumeDisk:
  valid:
    - &volume_disk
      type: volume
      src: *disk_volume_src
      target: *disk_target
    - <<: *volume_disk
      boot: 1
    - <<: *volume_disk
      device: disk
    - <<: *volume_disk
      device: cdrom
    - <<: *volume_disk
      device: floppy
    - <<: *volume_disk
      device: lun
    - <<: *volume_disk
      readonly: true
    - <<: *volume_disk
      readonly: false
    - <<: *volume_disk
      snapshot: internal
    - <<: *volume_disk
      snapshot: external
    - <<: *volume_disk
      snapshot: manual
    - <<: *volume_disk
      snapshot: 'no'
    - <<: *volume_disk
      startup: mandatory
    - <<: *volume_disk
      startup: requisite
    - <<: *volume_disk
      startup: optional
  invalid:
    - {}
    - type: ''
      src: *disk_volume_src
      target: *disk_target
    - type: volume
      src: ''
      target: *disk_target
    - type: volume
      target: *disk_target
    - type: volume
      src: *disk_volume_src
    - src: *disk_volume_src
      target: *disk_target
    - <<: *volume_disk
      boot: 0
    - <<: *volume_disk
      readonly: ''
    - <<: *volume_disk
      device: ''
    - <<: *volume_disk
      snapshot: ''
    - <<: *volume_disk
      startup: ''
FilesystemDriverInfo:
  valid:
    - &filesystem_driver
      type: path
    - type: path
      wrpolicy: immediate
    - type: loop
      format: raw
    - type: virtiofs
      queues: 8
  invalid:
    - {}
    - type: ''
    - type: path
      wrpolicy: ''
    - type: loop
      format: ''
    - type: virtiofs
      queues: 0
Filesystem:
  valid:
    - &filesystem
      type: mount
      source: /nonexistent
      target: /
    - type: template
      source: test
      target: /
    - type: file
      source: /nonexistent
      target: /
    - type: block
      source: /dev/sda
      target: /
    - type: ram
      source: '65536'
      target: /nonexistent
    - type: bind
      source: /nonexistent1
      target: /nonexistent2
    - <<: *filesystem
      accessmode: mapped
    - <<: *filesystem
      accessmode: passthrough
    - <<: *filesystem
      accessmode: squash
    - <<: *filesystem
      dmode: '0755'
      fmode: '0644'
    - <<: *filesystem
      driver: *filesystem_driver
    - <<: *filesystem
      multidev: default
    - <<: *filesystem
      multidev: remap
    - <<: *filesystem
      multidev: forbid
    - <<: *filesystem
      multidev: warn
    - <<: *filesystem
      readonly: true
    - <<: *filesystem
      readonly: false
    - <<: *filesystem
      src_type: socket
  invalid:
    - {}
    - <<: *filesystem
      type: ''
    - <<: *filesystem
      source: ''
    - <<: *filesystem
      target: ''
    - <<: *filesystem
      accessmode: ''
    - <<: *filesystem
      dmode: ''
      fmode: '0644'
    - <<: *filesystem
      dmode: '0755'
      fmode: ''
    - <<: *filesystem
      driver: ''
    - <<: *filesystem
      multidev: ''
    - <<: *filesystem
      readonly: ''
    - <<: *filesystem
      src_type: ''
NetworkVPort:
  valid:
    - {}
    - &vport_basic
      instanceid: test
    - &vport_ovs
      type: openvswitch
      interfaceid: test
      profileid: test
    - &vport_vepa
      type: '802.1Qbg'
      managerid: test
      instanceid: test
      typeid: test
      typeidversion: 2
    - type: '802.1Qbh'
      profileid: test
  invalid:
    - instanceid: ''
    - type: ''
    - type: openvswitch
      interfaceid: ''
      profileid: test
    - type: openvswitch
      interfaceid: test
      profileid: ''
    - type: '802.1Qbg'
      managerid: ''
      instanceid: test
      typeid: test
      typeidversion: 2
    - type: '802.1Qbg'
      managerid: test
      instanceid: ''
      typeid: test
      typeidversion: 2
    - type: '802.1Qbg'
      managerid: test
      instanceid: test
      typeid: ''
      typeidversion: 2
    - type: '802.1Qbg'
      managerid: test
      instanceid: test
      typeid: test
      typeidversion: 0
    - type: '802.1Qbh'
      profileid: ''
NetworkIPv4Info:
  valid:
    - &ipv4_address_info
      address: &ipv4_address '192.0.2.1'
      prefix: 24
  invalid:
    - {}
    - &ipv6_address_info
      address: &ipv6_address '2001::db8:1'
      prefix: 64
    - address: *ipv4_address
    - prefix: 24
    - address: ''
      prefix: 24
    - <<: *ipv4_address_info
      prefix: 0
    - <<: *ipv4_address_info
      prefix: 32
NetworkIPv6Info:
  valid:
    - *ipv6_address_info
  invalid:
    - {}
    - *ipv4_address_info
    - prefix: 64
    - address: ''
      prefix: 64
    - <<: *ipv6_address_info
      prefix: 0
    - <<: *ipv6_address_info
      prefix: 128
VirtualInterface:
  valid:
    - &virtual_interface
      type: network
      src: test
    - <<: *virtual_interface
      target: eth0
    - <<: *virtual_interface
      mac: &mac_address '02:00:00:00:00:01'
    - <<: *virtual_interface
      boot: 1
    - <<: *virtual_interface
      virtualport: *vport_basic
  invalid:
    - {}
    - type: ''
    - type: network
    - type: network
      src: ''
    - src: test
    - <<: *virtual_interface
      target: ''
    - <<: *virtual_interface
      mac: ''
    - <<: *virtual_interface
      mac: &invalid_mac '02:00:00:00:00:0z'
    - <<: *virtual_interface
      boot: 0
BridgeInterface:
  valid:
    - &bridge_interface
      type: bridge
      src: br0
    - <<: *bridge_interface
      target: eth0
    - <<: *bridge_interface
      mac: *mac_address
    - <<: *bridge_interface
      boot: 1
    - <<: *bridge_interface
      virtualport: *vport_ovs
  invalid:
    - {}
    - type: ''
    - type: bridge
    - type: bridge
      src: ''
    - src: br0
    - <<: *bridge_interface
      target: ''
    - <<: *bridge_interface
      mac: ''
    - <<: *bridge_interface
      mac: *invalid_mac
    - <<: *bridge_interface
      boot: 0
DirectInterface:
  valid:
    - &direct_interface
      type: direct
      src: eth0
    - <<: *direct_interface
      mode: vepa
    - <<: *direct_interface
      mode: bridge
    - <<: *direct_interface
      mode: private
    - <<: *direct_interface
      mode: passthrough
    - <<: *direct_interface
      target: eth0
    - <<: *direct_interface
      mac: *mac_address
    - <<: *direct_interface
      boot: 1
    - <<: *direct_interface
      mode: vepa
      virtualport: *vport_vepa
  invalid:
    - {}
    - type: ''
    - type: direct
    - type: direct
      src: ''
    - src: test
    - <<: *direct_interface
      mode: ''
    - <<: *direct_interface
      target: ''
    - <<: *direct_interface
      mac: ''
    - <<: *direct_interface
      mac: *invalid_mac
    - <<: *direct_interface
      boot: 0
UserInterface:
  valid:
    - type: user
      ipv4: *ipv4_address_info
    - type: user
      ipv6: *ipv6_address_info
    - &user_interface
      type: user
      ipv4: *ipv4_address_info
      ipv6: *ipv6_address_info
    - <<: *user_interface
      target: eth0
    - <<: *user_interface
      mac: *mac_address
    - <<: *user_interface
      boot: 1
  invalid:
    - {}
    - type: ''
    - type: user
    - type: user
      src: ''
    - src: test
    - <<: *user_interface
      target: ''
    - <<: *user_interface
      mac: ''
    - <<: *user_interface
      mac: *invalid_mac
    - <<: *user_interface
      boot: 0
NullInterface:
  valid:
    - &null_interface
      type: 'null'
    - type: null
    - <<: *null_interface
      target: eth0
    - <<: *null_interface
      mac: *mac_address
    - <<: *null_interface
      boot: 1
  invalid:
    - {}
    - type: ''
    - <<: *null_interface
      target: ''
    - <<: *null_interface
      mac: ''
    - <<: *null_interface
      mac: *invalid_mac
    - <<: *null_interface
      boot: 0
InputSource:
  valid:
    - &input_source
      dev: /dev/input/event1
    - <<: *input_source
      grab: all
    - <<: *input_source
      repeat: 'on'
    - <<: *input_source
      repeat: 'off'
    - <<: *input_source
      grabToggle: ctrl-ctrl
  invalid:
    - {}
    - dev: ''
    - <<: *input_source
      grab: ''
    - <<: *input_source
      repeat: ''
    - <<: *input_source
      grabToggle: ''
SimpleInputDevice:
  valid:
    - type: keyboard
    - type: mouse
    - type: tablet
    - type: keyboard
      bus: usb
    - type: keyboard
      bus: ps2
    - &simple_input
      type: keyboard
      bus: virtio
    - type: keyboard
      bus: xen
    - <<: *simple_input
      model: virtio
  invalid:
    - {}
    - type: ''
    - type: keyboard
      bus: ''
    - type: keyboard
      bus: virtio
      model: ''
PassthroughInputDevice:
  valid:
    - &passthrough_input
      type: passthrough
      src: /dev/input/event0
    - <<: *passthrough_input
      bus: usb
    - <<: *passthrough_input
      bus: ps2
    - <<: *passthrough_input
      bus: virtio
    - <<: *passthrough_input
      bus: xen
    - <<: *passthrough_input
      bus: virtio
      model: virtio
  invalid:
    - {}
    - type: ''
    - type: passthrough
      src: ''
    - <<: *passthrough_input
      bus: ''
    - <<: *passthrough_input
      bus: virtio
      model: ''
EvdevInputDevice:
  valid:
    - &evdev_input
      type: evdev
      src: *input_source
    - <<: *evdev_input
      bus: usb
    - <<: *evdev_input
      bus: ps2
    - <<: *evdev_input
      bus: virtio
    - <<: *evdev_input
      bus: xen
    - <<: *evdev_input
      bus: virtio
      model: virtio
  invalid:
    - {}
    - type: ''
    - type: evdev
      src: ''
    - <<: *evdev_input
      bus: ''
    - <<: *evdev_input
      bus: virtio
      model: ''
NullGraphicsListener:
  valid:
    - &graphics_listener
      type: none
  invalid:
    - {}
    - type: ''
AddressGraphicsListener:
  valid:
    - type: address
      listen: *ipv4_address
    - type: address
      listen: *ipv6_address
  invalid:
    - {}
    - type: ''
    - type: address
      listen: ''
NetworkGraphicsListener:
  valid:
    - type: network
      listen: test
  invalid:
    - {}
    - type: ''
    - type: network
      listen: ''
SocketGraphicsListener:
  valid:
    - type: socket
      listen: /run/graphics.sock
  invalid:
    - {}
    - type: ''
    - type: socket
      listen: ''
VNCGraphics:
  valid:
    - type: vnc
    - type: vnc
      listeners:
        - *graphics_listener
    - type: vnc
      port: 5900
    - type: vnc
      autoport: 'yes'
    - type: vnc
      port: 5900
      autoport: 'no'
    - type: vnc
      keymap: us
    - &vnc_passwd
      type: vnc
      passwd: secret
    - <<: *vnc_passwd
      passwdValidTo: '2023-12-31T00:00:00'
    - <<: *vnc_passwd
      connected: keep
    - <<: *vnc_passwd
      connected: disconnect
    - <<: *vnc_passwd
      connected: fail
    - type: vnc
      websocket: 5900
    - type: vnc
      sharePolicy: allow-exclusive
    - type: vnc
      sharePolicy: force-shared
    - type: vnc
      sharePolicy: ignore
    - type: vnc
      powerControl: 'yes'
    - type: vnc
      powerControl: 'no'
  invalid:
    - {}
    - type: ''
    - type: vnc
      port: 0
    - type: vnc
      port: -1
    - type: vnc
      port: 65536
    - type: vnc
      port: 5900
      autoport: 'yes'
    - type: vnc
      autoport: ''
    - type: vnc
      keymap: ''
    - type: vnc
      passwdValidTo: '2023-12-31T00:00:00'
    - type: vnc
      connected: keep
    - <<: *vnc_passwd
      passwdValidTo: ''
    - <<: *vnc_passwd
      connected: ''
    - type: vnc
      socket: ''
    - type: vnc
      websocket: -2
    - type: vnc
      websocket: 65536
    - type: vnc
      sharePolicy: ''
    - type: vnc
      powerControl: ''
SPICEGraphics:
  valid:
    - type: spice
    - type: spice
      listeners:
        - *graphics_listener
    - type: spice
      port: 5900
    - type: spice
      autoport: 'yes'
    - type: spice
      port: 5900
      autoport: 'no'
    - type: spice
      keymap: us
    - &spice_passwd
      type: spice
      passwd: secret
    - <<: *spice_passwd
      passwdValidTo: '2023-12-31T00:00:00'
    - <<: *spice_passwd
      connected: keep
    - <<: *spice_passwd
      connected: disconnect
    - <<: *spice_passwd
      connected: fail
    - type: spice
      tlsPort: 5900
    - type: spice
      defaultMode: secure
    - type: spice
      defaultMode: insecure
    - type: spice
      defaultMode: any
    - type: spice
      channels: {}
    - type: spice
      channels:
        main: secure
        record: insecure
  invalid:
    - {}
    - type: ''
    - type: spice
      port: 0
    - type: spice
      port: -1
    - type: spice
      port: 65536
    - type: spice
      port: 5900
      autoport: 'yes'
    - type: spice
      autoport: ''
    - type: spice
      keymap: ''
    - type: spice
      passwdValidTo: '2023-12-31T00:00:00'
    - type: spice
      connected: keep
    - <<: *spice_passwd
      passwdValidTo: ''
    - <<: *spice_passwd
      connected: ''
    - type: spice
      tlsPort: 0
    - type: spice
      tlsPort: 65536
    - type: spice
      defaultMode: ''
    - type: spice
      channels: ''
    - type: spice
      channels:
        main: ''
RDPGraphics:
  valid:
    - type: rdp
    - type: rdp
      listeners:
        - *graphics_listener
    - type: rdp
      port: 3389
    - type: rdp
      autoport: 'yes'
    - type: rdp
      port: 3389
      autoport: 'no'
    - &rdp_passwd
      type: rdp
      passwd: secret
    - <<: *rdp_passwd
      passwdValidTo: '2023-12-31T00:00:00'
    - <<: *rdp_passwd
      connected: keep
    - <<: *rdp_passwd
      connected: disconnect
    - <<: *rdp_passwd
      connected: fail
    - type: rdp
      multiUser: 'yes'
    - type: rdp
      multiUser: 'no'
    - type: rdp
      multiUser: 'no'
      replaceUser: 'yes'
    - type: rdp
      multiUser: 'no'
      replaceUser: 'no'
  invalid:
    - {}
    - type: ''
    - type: rdp
      port: 0
    - type: rdp
      port: -1
    - type: rdp
      port: 65536
    - type: rdp
      port: 3389
      autoport: 'yes'
    - type: rdp
      autoport: ''
    - type: rdp
      passwdValidTo: '2023-12-31T00:00:00'
    - type: rdp
      connected: keep
    - <<: *rdp_passwd
      passwdValidTo: ''
    - <<: *rdp_passwd
      connected: ''
    - type: rdp
      multiUser: ''
    - type: rdp
      multiUser: 'no'
      replaceUser: ''
    - type: rdp
      replaceUser: 'yes'
    - type: rdp
      replaceUser: 'no'
    - type: rdp
      multiUser: 'yes'
      replaceUser: 'yes'
    - type: rdp
      multiUser: 'yes'
      replaceUser: 'no'
VideoDevice:
  valid:
    - type: vga
    - type: cirrus
    - type: vmvga
    - type: xen
    - type: vbox
    - type: virtio
    - type: qxl
    - type: gop
    - type: bochs
    - type: ramfb
    - type: none
    - &video_device
      type: vga
      vram: 1024
    - type: vga
      vram: 65536
    - type: vga
      vram: 4194304
    - type: vga
      heads: 4
    - type: virtio
      blob: 'on'
    - type: virtio
      blob: 'off'
  invalid:
    - {}
    - type: ''
    - type: vga
      vram: 0
    - type: vga
      vram: 2000
    - type: vga
      heads: 0
    - type: vga
      blob: 'on'
    - type: virtio
      blob: ''
CharDevSimpleSource:
  valid:
    - type: null
    - type: 'null'
    - type: vc
    - type: stdio
  invalid:
    - {}
    - type: ''
CharDevPathSource:
  valid:
    - type: file
      path: /nonexistent
    - type: dev
      path: /dev/ttyS0
    - type: pipe
      path: /nonexistent
  invalid:
    - {}
    - type: ''
      path: /nonexistent
    - type: file
      path: ''
    - type: dev
      path: ''
    - type: pipe
      path: ''
CharDevPTYSource:
  valid:
    - &char_dev_source
      type: pty
    - type: pty
      path: /dev/pty/3
  invalid:
    - {}
    - type: ''
    - type: pty
      path: ''
CharDevSocketSource:
  valid:
    - type: unix
      path: /run/serial.sock
      mode: bind
    - type: unix
      path: /run/serial.sock
      mode: connect
  invalid:
    - {}
    - type: ''
    - type: unix
      path: ''
      mode: bind
    - type: unix
      path: /run/serial.sock
      mode: ''
CharDevTCPSource:
  valid:
    - type: tcp
      host: *ipv4_address
      service: 23
      mode: bind
    - type: tcp
      host: *ipv4_address
      service: 23
      mode: connect
    - type: tcp
      host: *ipv6_address
      service: 23
      mode: bind
    - type: tcp
      host: *ipv6_address
      service: 23
      mode: connect
  invalid:
    - {}
    - type: tcp
      host: ''
      service: 23
      mode: connect
    - type: tcp
      host: *ipv4_address
      service: 0
      mode: bind
    - type: tcp
      host: *ipv4_address
      service: 65536
      mode: bind
    - type: tcp
      host: *ipv4_address
      service: 23
      mode: ''
CharDevChannelSource:
  valid:
    - type: spiceport
      channel: org.qemu.console.serial.0
  invalid:
    - {}
    - type: ''
      channel: org.qemu.console.serial.0
    - type: channel
      channel: org.qemu.console.serial.0
    - type: spiceport
      channel: ''
ParallelDevTarget:
  valid:
    - category: parallel
      port: 0
  invalid:
    - {}
    - category: ''
      port: 0
    - category: parallel
      port: -1
SerialDevTarget:
  valid:
    - &char_dev_target
      category: serial
      port: 0
    - <<: *char_dev_target
      type: usb-serial
  invalid:
    - {}
    - category: ''
      port: 0
    - category: serial
      port: -1
    - <<: *char_dev_target
      type: ''
ConsoleDevTarget:
  valid:
    - category: console
      type: serial
      port: 0
    - category: console
      type: virtio
      port: 0
    - category: console
      type: xen
      port: 0
    - category: console
      type: lxc
      port: 0
    - category: console
      type: openvz
      port: 0
    - category: console
      type: sclp
      port: 0
    - category: console
      type: sclplm
      port: 0
  invalid:
    - {}
    - category: console
    - type: serial
    - category: ''
      type: serial
    - category: console
      type: ''
NetChannelDevTarget:
  valid:
    - category: channel
      type: guestfwd
      address: *ipv4_address
      port: 80
    - category: channel
      type: guestfwd
      address: *ipv6_address
      port: 80
  invalid:
    - {}
    - category: ''
      type: guestfwd
      address: *ipv4_address
      port: 80
    - category: channel
      type: ''
      address: *ipv4_address
      port: 80
    - category: channel
      type: guestfwd
      address: ''
      port: 80
    - category: channel
      type: guestfwd
      address: *ipv4_address
      port: 0
    - category: channel
      type: guestfwd
      address: *ipv4_address
      port: 65536
VirtIOChannelDevTarget:
  valid:
    - category: channel
      type: virtio
      name: org.qemu.guest_agent.0
  invalid:
    - {}
    - category: ''
      type: virtio
      name: org.qemu.guest_agent.0
    - category: channel
      type: ''
      name: org.qemu.guest_agent.0
    - category: channel
      type: virtio
      name: ''
XenChannelDevTarget:
  valid:
    - category: channel
      type: xen
      name: org.qemu.guest_agent.0
  invalid:
    - {}
    - category: ''
      type: xen
      name: org.qemu.guest_agent.0
    - category: channel
      type: ''
      name: org.qemu.guest_agent.0
    - category: channel
      type: xen
      name: ''
CharDevLog:
  valid:
    - &char_dev_log
      file: /var/log/domain.log
    - <<: *char_dev_log
      append: 'on'
    - <<: *char_dev_log
      append: 'off'
  invalid:
    - {}
    - file: ''
    - <<: *char_dev_log
      append: ''
CharacterDevice:
  valid:
    - target: *char_dev_target
    - target: *char_dev_target
      source: *char_dev_source
    - target: *char_dev_target
      log: *char_dev_log
    - target: *char_dev_target
      source: *char_dev_source
      log: *char_dev_log
  invalid:
    - {}
    - source: *char_dev_source
    - log: *char_dev_log
    - source: *char_dev_source
      log: *char_dev_log
WatchdogDevice:
  valid:
    - model: itco
    - &watchdog
      model: i6300esb
    - model: ib700
    - model: diag288
    - <<: *watchdog
      action: reset
    - <<: *watchdog
      action: shutdown
    - <<: *watchdog
      action: poweroff
    - <<: *watchdog
      action: pause
    - <<: *watchdog
      action: none
    - <<: *watchdog
      action: dump
    - <<: *watchdog
      action: inject-nmi
  invalid:
    - {}
    - model: ''
    - <<: *watchdog
      action: ''
RNGBuiltinBackend:
  valid:
    - model: builtin
  invalid:
    - {}
    - model: ''
RNGRandomBackend:
  valid:
    - &rng_backend
      model: random
      path: /dev/urandom
  invalid:
    - {}
    - model: ''
      path: /dev/urandom
    - model: ranodm
      path: ''
    - model: random
RNGEGDSocketBackend:
  valid:
    - model: egd
      type: unix
      path: /run/serial.sock
      mode: bind
    - model: egd
      type: unix
      path: /run/serial.sock
      mode: connect
  invalid:
    - {}
    - model: ''
    - model: egd
      type: ''
    - model: egd
      type: unix
      path: ''
      mode: bind
    - model: egd
      type: unix
      path: /run/serial.sock
      mode: ''
RNGEGDTCPBackend:
  valid:
    - model: egd
      type: tcp
      host: *ipv4_address
      service: 23
      mode: connect
    - model: egd
      type: tcp
      host: *ipv6_address
      service: 23
      mode: connect
  invalid:
    - {}
    - model: egd
      type: tcp
      host: ''
      service: 23
      mode: connect
    - model: egd
      type: tcp
      host: *ipv4_address
      service: 0
      mode: connect
    - model: egd
      type: tcp
      host: *ipv4_address
      service: 65536
      mode: connect
    - model: egd
      type: tcp
      host: *ipv4_address
      service: 23
      mode: ''
RNGDevice:
  valid:
    - &rng_device
      model: virtio
    - <<: *rng_device
      rate: *data_rate
    - <<: *rng_device
      backend: *rng_backend
  invalid:
    - {}
    - model: ''
    - <<: *rng_device
      rate: {}
    - <<: *rng_device
      backend: ''
PassthroughTPM:
  valid:
    - &tpm_passthrough
      type: passthrough
      dev: /dev/tpm0
    - <<: *tpm_passthrough
      model: tpm-tis
    - <<: *tpm_passthrough
      model: tpm-crb
    - <<: *tpm_passthrough
      model: tpm-spapr
    - <<: *tpm_passthrough
      model: tpm-spapr-proxy
  invalid:
    - {}
    - type: ''
      dev: /dev/tpm0
    - type: passthrough
      dev: ''
    - <<: *tpm_passthrough
      model: ''
EmulatedTPM:
  valid:
    - &tpm_emu
      type: emulator
    - <<: *tpm_emu
      model: tpm-tis
    - <<: *tpm_emu
      model: tpm-crb
    - <<: *tpm_emu
      model: tpm-spapr
    - <<: *tpm_emu
      model: tpm-spapr-proxy
    - <<: *tpm_emu
      encryption: 65267a83-2c8c-42e3-95e2-ae9a1fe522a7
    - <<: *tpm_emu
      version: '1.2'
    - <<: *tpm_emu
      version: '2.0'
    - <<: *tpm_emu
      persistent_state: 'yes'
    - <<: *tpm_emu
      persistent_state: 'no'
    - <<: *tpm_emu
      active_pcr_banks: []
    - <<: *tpm_emu
      active_pcr_banks:
        - sha256
        - sha512
  invalid:
    - {}
    - type: ''
    - <<: *tpm_emu
      encryption: ''
    - <<: *tpm_emu
      version: ''
    - <<: *tpm_emu
      persistent_state: ''
    - <<: *tpm_emu
      active_pcr_banks:
        - ''
SimpleDevice:
  valid:
    - &simple_dev
      model: virtio
  invalid:
    - {}
    - model: ''
Devices:
  valid:
    - {}
  invalid:
    - controllers:
        - type: usb
          index: 0
        - type: usb
          index: 0
DomainInfo:
  valid:
    - name: test
      type: test
      memory: 65536
      os: *test_osinfo
  invalid:
    - {}
